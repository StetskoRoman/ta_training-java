PACKAGE COM.EPAM.TRAINING.STUDENT_ROMAN_STECKO.JAVACOLLECTIONS.JAVACOLLECTIONS_OPTIONALTASKS;

IMPORT JAVA.IO.*;
IMPORT JAVA.UTIL.*;


CLASS READTEXTFILEANDCHANGE {

    //OPT TASKS 1
    PUBLIC STATIC VOID MAIN(STRING[] ARGS) THROWS EXCEPTION {

        SCANNER SCANNER = NEW SCANNER(NEW FILE("POEM.TXT"));
        STACK<STRING> STRINGSPOEM = NEW STACK<>();
        WHILE (SCANNER.HASNEXTLINE()) {
            STRINGSPOEM.PUSH(SCANNER.NEXTLINE());
        }
        SCANNER.CLOSE();

        TRY (BUFFEREDWRITER BUFFEREDWRITER = NEW BUFFEREDWRITER(NEW FILEWRITER("POEMREVERSE.TXT")))
        {

            WHILE (!STRINGSPOEM.EMPTY()) {
                BUFFEREDWRITER.WRITE(STRINGSPOEM.PEEK() + "\n");
                BUFFEREDWRITER.FLUSH();
                SYSTEM.OUT.PRINTLN(STRINGSPOEM.POP());

            }
        }
        CATCH (EXCEPTION e){
            SYSTEM.OUT.PRINTLN("JAVA CAN`t DEAL WITH YOUR TASK");
        }
    }
}
